{"version":3,"sources":["assets/script/hall.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import imgItem from \"./prefeb/imgItem\";\nimport { gameData } from \"./tool/gameData\";\nimport { Global } from \"./tool/global\";\nimport { dialog, UtilsTool } from \"./tool/utils\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class hall extends cc.Component {\n\n    @property(cc.Node)\n    bg: cc.Node = null;\n\n    @property(cc.Prefab)\n    imgItem: cc.Prefab = null;\n\n    @property(cc.Node)\n    scroll_contect: cc.Node = null;\n\n    @property(cc.ScrollView)\n    scrollView: cc.ScrollView = null;\n\n    @property(cc.Node)\n    toastNode: cc.Node = null;\n\n\n    start() {\n  \n        if (cc.sys.platform === cc.sys.IPAD) {\n            this.getComponent(cc.Canvas).fitHeight = true;\n            this.getComponent(cc.Canvas).fitWidth = false;\n        }\n\n        \n        Global.setsceneNode(this.node);\n        UtilsTool.adapterBg(this.bg);\n\n        this.scheduleOnce(() => {\n            this.init();\n        })\n\n        this.scheduleOnce(() => {\n            if (gameData.userData.level > 4 && gameData.userData.level < gameData.levelAll) {\n                let hei = 260;\n                let y = 0;\n                if (gameData.userData.level % 2 == 0) {\n                    let index = gameData.userData.level / 2 ;\n\n                    y = ((gameData.userData.level -1) - index) * hei;\n                } else {\n                    let index = (gameData.userData.level + 1) / 2\n                    y = (gameData.userData.level - index) * hei;\n                }\n\n                this.scrollView.scrollToOffset(cc.v2(0, y), 1);\n            }\n        }, 0.1)\n    }\n\n    init() {\n        this.scroll_contect.destroyAllChildren()\n        for (let i = 0; i < 30; i++) {\n            let item = cc.instantiate(this.imgItem);\n            this.scroll_contect.addChild(item);\n            item.getComponent(imgItem).init(i, this);\n        }\n    }\n\n    onClick_setting() {\n        Global.audioUtils.commonBtnClick();\n        Global.assetUtils.showDialog(dialog.setting_dialog, { isGame: false });\n        // Global.assetUtils.showDialog(dialog.comment_dialog);\n    }\n\n\n\n    showToast(text: string) {\n        this.toastNode.active = true;\n        let toastLabel = this.toastNode.getChildByName(\"label\");\n        toastLabel.getComponent(cc.Label).string = text;\n        cc.Tween.stopAllByTarget(this.toastNode);\n        this.toastNode.opacity = 255;\n        cc.tween(this.toastNode).to(0.15, { scale: 1.2 }).to(0.15, { scale: 1 }).delay(0.5).to(0.5, { opacity: 0 }).call(() => {\n            this.toastNode.active = false;\n        }).start();\n    }\n}\n"]}
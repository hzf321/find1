{"version":3,"sources":["assets/script/game.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import newhand from \"./prefeb/newhand\";\nimport { gameData, sound } from \"./tool/gameData\";\nimport { beautyData, Global } from \"./tool/global\";\nimport { dialog, scene, UtilsTool } from \"./tool/utils\";\n\n\nconst { ccclass, property } = cc._decorator;\n\nenum GameState {\n    find,       //找到\n    err,        //没找到    \n    finish,     //找到重复的  \n}\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Node)\n    bg: cc.Node = null;\n\n    @property(cc.Node)\n    originalImg: cc.Node = null;\n\n    @property(cc.Node)\n    finishImg: cc.Node = null;\n\n    @property(cc.Node)\n    tishi_qipao: cc.Node = null;\n\n    @property(cc.Prefab)\n    gameFindPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    gameErrPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    gameTishiPrefab: cc.Prefab = null;\n\n    @property(cc.Prefab)\n    game_tuowei: cc.Prefab = null;\n\n    @property(cc.Node)\n    imgSignBox: cc.Node = null;\n\n    @property(cc.Node)\n    yeziBox: cc.Node = null;\n\n    @property(cc.Label)\n    level: cc.Label = null;\n\n    @property(cc.Node)\n    timeAll: cc.Node = null;\n\n    @property(cc.Node)\n    reduceTime: cc.Node = null;\n\n    @property(cc.Node)\n    mask: cc.Node = null;\n\n    imgData: beautyData[] = [];\n    setImgY: number = 257;\n    originalScale: number = 0.5;\n\n    yeziAllNum: number = 10;\n    yeziNowNum: number = 0;\n    residueTime: number = 0;\n\n    isTiShi: boolean = false;\n\n    timer = null;\n    isPause: boolean = false;\n    firstErr: boolean = false;\n\n    private audioClips: cc.AudioClip[] = [];\n\n    newhandNode: newhand = null;\n\n\n    start() {\n    \n        if (cc.sys.platform === cc.sys.IPAD) {\n            this.getComponent(cc.Canvas).fitHeight = true;\n            this.getComponent(cc.Canvas).fitWidth = false;\n        }\n\n        this.resetAll();\n        Global.setsceneNode(this.node);\n        UtilsTool.adapterBg(this.bg);\n\n        this.onEvent();\n        this.init();\n        this.startDownTime();\n        this.loadRes();\n        this.checkNewHand();\n\n        cc.resources.loadDir(\"sound\", cc.AudioClip, (err: Error, clips: cc.AudioClip[]) => {\n            if (err || !cc.isValid(this)) return;\n            this.audioClips = clips;\n            this.addAutoReleaseAssets(clips);\n        });\n    }\n\n    onEvent() {\n        this.originalImg.on(cc.Node.EventType.TOUCH_END, this.imgEvent, this);\n        this.finishImg.on(cc.Node.EventType.TOUCH_END, this.imgEvent, this);\n    }\n\n    resetAll(clearData?) {\n        if (!clearData) {\n            this.imgData = [];\n        }\n        this.imgSignBox.getChildByName(\"origBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"finishBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"errBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"tishiBox\").destroyAllChildren();\n        this.imgSignBox.getChildByName(\"lizi\").destroyAllChildren();\n\n        this.mask.active = false;\n        this.firstErr = false;\n        this.isPause = false;\n        this.timer = null;\n        this.isTiShi = false;\n        this.yeziNowNum = 0;\n        this.init();\n    }\n\n    checkNewHand() {\n        if (gameData.userData.isGudie) {\n            return;\n        }\n        cc.resources.load(\"prefeb/newhand\", cc.Prefab, (err, prefab) => {\n            if (err) {\n                return;\n            }\n\n            let node = cc.instantiate(prefab);\n            Global.assetUtils.bindAutoReleaseAsset(node, prefab);\n            this.node.addChild(node);\n            this.newhandNode = node.getComponent(newhand);\n            this.newhandNode.showdong1();\n        })\n    }\n\n\n    init() {\n        this.level.string = \"Lv\" + Global.imgId;\n        for (let i = 0; i < this.yeziBox.children.length; i++) {\n            let anim = this.yeziBox.children[i].getComponent(sp.Skeleton);\n            UtilsTool.playSp(anim, \"1_an_stop\");\n        }\n\n        this.residueTime = this.getDownTime();\n\n        this.changeQiPaoNum();\n\n        this.mask.active = false;\n\n        let time = UtilsTool.timeChange(this.residueTime);\n        this.timeAll.getComponent(cc.Label).string = time;\n        this.reduceTime.active = false;\n    }\n\n\n    //开启倒计时\n    startDownTime() {\n        if (this.residueTime > 0) {\n            let time = UtilsTool.timeChange(this.residueTime);\n            this.timeAll.getComponent(cc.Label).string = time;\n            this.timer = this.schedule(this.downTimeEvent, 1);\n        }\n    }\n\n    downTimeEvent() {\n        if (this.isPause) {\n            return\n        }\n        this.residueTime--;\n        let time = UtilsTool.timeChange(this.residueTime);\n        this.timeAll.getComponent(cc.Label).string = time;\n        if (this.residueTime <= 0) {\n            this.unschedule(this.downTimeEvent);\n            this.timeOutEvent();\n            this.playCommonSound(sound.fail);\n            cc.log(\"时间到了\");\n        }\n    }\n\n    errReduceTime() {\n        if (!this.firstErr) return\n        let posY = this.timeAll.y;\n        let reduceTime = 30;\n        this.reduceTime.y = posY;\n        this.reduceTime.active = true;\n        this.reduceTime.getComponent(cc.Label).string = \"-\" + reduceTime;\n        cc.Tween.stopAllByTarget(this.reduceTime);\n        cc.tween(this.reduceTime).to(0.15, { scale: 1.2 }).to(0.15, { scale: 1 }).to(1, { opacity: 255, y: posY - 25 }).call(() => {\n            this.reduceTime.active = false;\n        }).start();\n\n        this.residueTime -= reduceTime;\n        if (this.residueTime <= 0) {\n            this.timeAll.getComponent(cc.Label).string = \"00:00\";\n            this.playCommonSound(sound.fail);\n            cc.log(\"时间到了\");\n            this.unschedule(this.downTimeEvent);\n            this.timeOutEvent();\n        } else {\n            let time = UtilsTool.timeChange(this.residueTime);\n            this.timeAll.getComponent(cc.Label).string = time;\n        }\n    }\n\n    changeQiPaoNum() {\n        if (gameData.userData.tishiNum > 0) {\n            this.tishi_qipao.getChildByName(\"ad_label\").active = false;\n            this.tishi_qipao.getChildByName(\"num_label\").active = true;\n            this.tishi_qipao.getChildByName(\"num_label\").getComponent(cc.Label).string = gameData.userData.tishiNum.toString();\n        } else {\n            this.tishi_qipao.getChildByName(\"ad_label\").active = true;\n            this.tishi_qipao.getChildByName(\"num_label\").active = false;\n        }\n    }\n\n    loadRes() {\n        Global.assetUtils.loadSprite(\"originalImg/\" + Global.imgId + \"-o\", this.originalImg.getComponent(cc.Sprite));\n\n        Global.assetUtils.loadSprite(\"finishImg/\" + Global.imgId + \"-f\", this.finishImg.getComponent(cc.Sprite));\n\n        cc.resources.load(\"imgJson/level\" + Global.imgId, cc.JsonAsset, (err, res) => {\n            if (err) {\n                cc.log(err)\n                return;\n            }\n            // 获取到 Json 数据\n            Global.assetUtils.bindAutoReleaseAsset(this.node, res);\n            const jsonData = res.json;\n            if (jsonData && jsonData.path) {\n                this.imgData = jsonData.path;\n                for (let i = 0; i < this.imgData.length; i++) {\n                    this.imgData[i].isFind = false;\n                }\n                cc.log(this.imgData, \"this.imgData \");\n                // for (let i = 0; i < this.imgData.length; i++) {\n                //     let data = this.imgData[i];\n                //     this.findSignSucc(cc.v3(data.centerPos.x, data.centerPos.y))\n                // }\n\n                // for (let i = 0; i < this.imgData.length; i++) {\n                //     let data = this.imgData[i];\n                //     this.findSignSucc(cc.v3(data.centerPos.x, data.centerPos.y))\n                // }\n            }\n        })\n    }\n\n\n    yeziLight(pos: cc.Vec3) {\n        let anim = this.yeziBox.children[this.yeziNowNum - 1].getComponent(sp.Skeleton);\n\n        let tuowei = cc.instantiate(this.game_tuowei);\n        this.imgSignBox.getChildByName(\"lizi\").addChild(tuowei);\n        tuowei.setPosition(pos);\n\n        let changePos = UtilsTool.changePos(anim.node, tuowei);\n\n        let time = 0.5;\n        if (pos.y < 0) {\n            time = 1;\n        }\n        cc.Tween.stopAllByTarget(tuowei);\n        cc.tween(tuowei).to(time, { position: changePos }).call(() => {\n            this.scheduleOnce(() => {\n                tuowei.destroy();\n            }, 0.3);\n            UtilsTool.playSp(anim, \"2_bianliang\");\n            UtilsTool.addSequenceSp(anim, \"3_liang_stop\");\n        }).start();\n    }\n\n    findSignSucc(targetPos: cc.Vec3, findData:beautyData) {\n        for (let i = 0; i < 2; i++) {\n            let gameFind = cc.instantiate(this.gameFindPrefab);\n            let imgY = 0;\n            if (i == 0) {\n                imgY = targetPos.y * this.originalScale + this.setImgY;\n                this.imgSignBox.getChildByName(\"origBox\").addChild(gameFind)\n            } else {\n                this.imgSignBox.getChildByName(\"finishBox\").addChild(gameFind)\n                imgY = targetPos.y * this.originalScale - this.setImgY;\n            }\n            let centerPos = cc.v3(targetPos.x * this.originalScale, imgY);\n\n            gameFind.setPosition(centerPos);\n\n            cc.Tween.stopAllByTarget(gameFind);\n            gameFind.scale = 0;\n\n\n            cc.tween(gameFind).to(0.3, { scale: 1.5 }).to(0.1, { scale: 1.3 }).start();\n        }\n    }\n\n    findSignErr(targetPos: cc.Vec3) {\n        let clickPos = targetPos;\n        let gameErr = cc.instantiate(this.gameErrPrefab);\n        this.imgSignBox.getChildByName(\"errBox\").addChild(gameErr);\n        gameErr.setPosition(clickPos);\n        this.errSignAnim(gameErr);\n\n        let otherErrSign: cc.Node = null;\n        if (clickPos.y > 0) {\n            otherErrSign = cc.instantiate(this.gameErrPrefab);\n            this.imgSignBox.getChildByName(\"errBox\").addChild(otherErrSign);\n            otherErrSign.setPosition(cc.v3(clickPos.x, clickPos.y - (this.setImgY * 2)));\n        } else {\n            otherErrSign = cc.instantiate(this.gameErrPrefab);\n            this.imgSignBox.getChildByName(\"errBox\").addChild(otherErrSign);\n            otherErrSign.setPosition(cc.v3(clickPos.x, clickPos.y + (this.setImgY * 2)));\n        }\n        if (otherErrSign) {\n            this.errSignAnim(otherErrSign);\n        }\n    }\n\n    imgEvent(event: cc.Event.EventTouch) {\n        let pos = event.getLocation();\n        let clickPos = this.imgSignBox.convertToNodeSpaceAR(cc.v3(pos.x, pos.y));\n        // this.findSignErr(clickPos);\n        let data = this.checkImgSign(clickPos);\n        if (data.type == GameState.find) {\n            if (this.isTiShi) {\n                this.isTiShi = false;\n                this.imgSignBox.getChildByName(\"tishiBox\").destroyAllChildren();\n            }\n            this.yeziNowNum = this.yeziNowNum + 1;\n            this.findSignSucc(cc.v3(data.findData.centerPos.x, data.findData.centerPos.y), data.findData);\n            this.yeziLight(clickPos);\n\n            if (this.newhandNode && this.yeziNowNum == 1) {\n                if( this.newhandNode){\n                    this.newhandNode.hidedong1();\n                    this.newhandNode.showdong2();\n                }\n            \n            } else if (this.newhandNode && this.yeziNowNum == 2) {\n                if( this.newhandNode){\n                    this.newhandNode.node.destroy();\n                    this.newhandNode = null;\n                }\n                gameData.userData.isGudie = true;\n                gameData.storageData();\n            }\n            this.playCommonSound(sound.correct);\n\n            if (this.yeziNowNum >= this.yeziAllNum) {       //胜利 游戏结束\n                this.gameEnd();\n            }\n        } else if (data.type == GameState.err) {\n            this.playCommonSound(sound.err);\n            this.errReduceTime();\n            this.findSignErr(clickPos);\n            this.firstErr = true;\n        } else {\n            this.playCommonSound(sound.err);\n            this.errReduceTime();\n            this.findSignErr(clickPos);\n            this.firstErr = true;\n        }\n    }\n\n    checkImgSign(targetPos: cc.Vec3) {\n        let type: GameState = null;\n        let findData = null;\n        for (let i = 0; i < this.imgData.length; i++) {\n            let data = this.imgData[i];\n            let x = data.centerPos.x * this.originalScale;\n            let y = 0;\n            if (targetPos.y > 0) {\n                y = data.centerPos.y * this.originalScale + this.setImgY;\n            } else {\n                y = data.centerPos.y * this.originalScale - this.setImgY;\n            }\n\n            let wid = data.blockSize.wid * this.originalScale;\n            let hei = data.blockSize.hei * this.originalScale;\n\n            // let testitem = cc.instantiate(this.testitemPrefab);\n            // this.imgSignBox.addChild(testitem);\n            // testitem.setPosition(cc.v3(x, y));\n            // testitem.width = wid;\n            // testitem.height = hei;\n\n            if (!data.isFind && targetPos.x <= x + wid / 2 && targetPos.x >= x - wid / 2\n                && targetPos.y <= y + hei / 2 && targetPos.y >= y - hei / 2) {\n                if (!data.isFind) {\n                    cc.log(\"找到了\");\n                    type = GameState.find;\n                    findData = data;\n                    data.isFind = true;\n                } else {\n                    type = GameState.finish;\n                    cc.log(\"找到重复的了\");\n                }\n                return { type, findData }\n            } else {\n                type = GameState.err;\n                cc.log(\"没找到\");\n            }\n        }\n\n        return { type, findData }\n    }\n\n\n    errSignAnim(node: cc.Node) {\n        cc.Tween.stopAllByTarget(node);\n        cc.tween(node)\n            .to(0.05, { angle: 15 }).to(0.05, { angle: 0 }).to(0.05, { angle: -15 })\n            .to(0.07, { angle: 10 }).to(0.07, { angle: 0 }).to(0.07, { angle: -10 })\n            .to(0.1, { angle: 7 }).to(0.1, { angle: 0 }).to(0.1, { angle: -7 })\n            .to(0.1, { angle: 3 }).to(0.1, { angle: 0 })\n            .call(() => {\n                node.destroy();\n            }).start();\n    }\n\n\n    gameEnd() {\n        cc.log(\"游戏结束\");\n        this.mask.active = true;\n        this.scheduleOnce(() => {\n            for (let i = 0; i < this.yeziBox.children.length; i++) {\n                let anim = this.yeziBox.children[i].getComponent(sp.Skeleton);\n                this.scheduleOnce(() => {\n                    UtilsTool.playSp(anim, \"4_man\", false, () => {\n                        this.scheduleOnce(() => {\n                            if (i == this.yeziBox.children.length - 1) {\n                                this.playCommonSound(sound.win);\n                                if (gameData.userData.level + 1 <= gameData.levelAll) {\n                                    gameData.userData.level = gameData.userData.level + 1;\n                                    gameData.storageData();\n                                }\n                                Global.assetUtils.showDialog(dialog.gameover_dialog, {\n                                    callback: () => {\n                                        if (Global.imgId + 1 <= gameData.levelAll) {\n                                            Global.imgId = Global.imgId + 1;\n                                            this.resetAll();\n                                            this.init();\n                                            this.startDownTime();\n                                            this.loadRes();\n                                        } else {\n                                            gameData.userData.isHall = true;\n                                            gameData.storageData();\n                                            cc.director.loadScene(scene.hall);\n                                        }\n                                    }\n                                });\n                            }\n                        })\n                    });\n                }, 0.1 * i);\n            }\n        }, 0.5);\n    }\n\n\n    //获取当前关卡的倒计时\n    getDownTime() {\n        let level = Global.imgId;\n        let time = 0;\n        if (level >= 1 && level <= 5) {\n            time = 5 * 60;\n        } else if (level >= 6 && level <= 10) {\n            time = 3 * 60;\n        } else if (level >= 11 && level <= 15) {\n            time = 2 * 60 + 30;\n        } else if (level >= 16 && level <= 20) {\n            time = 2 * 60;\n        } else if (level >= 21 && level <= 25) {\n            time = 1 * 60 + 30;\n        } else {\n            time = 1 * 60;\n        }\n        return time;\n    }\n\n\n    //时间到\n    timeOutEvent() {\n        Global.assetUtils.showDialog(dialog.timeOut_dialog, {\n            ADcallback: () => {\n                this.residueTime = 60;\n                gameData.userData.tishiNum++;\n                gameData.storageData();\n                this.changeQiPaoNum();\n                this.startDownTime();\n            },\n\n            restartCallBack: () => {\n                this.resetAll(true);\n                this.init();\n                this.startDownTime();\n                cc.log(this.imgData, \"this.imgData\");\n                for (let i = 0; i < this.imgData.length; i++) {\n                    this.imgData[i].isFind = false;\n                }\n            }\n        });\n    }\n\n    onClick_back() {\n        Global.audioUtils.commonBtnClick();\n        this.isPause = true;\n        Global.assetUtils.showDialog(dialog.confirmExit_dialog, { callback: () => { this.isPause = false } });\n    }\n\n\n    onClick_pause() {\n        Global.audioUtils.commonBtnClick();\n        this.isPause = true;\n        Global.assetUtils.showDialog(dialog.setting_dialog, { isGame: true, callback: () => { this.isPause = false } });\n         \n    }\n\n    onClick_tishi() {\n\n        Global.audioUtils.commonBtnClick();\n        if (this.isTiShi) {\n            return;\n        }\n        let findData: beautyData = null;\n        for (let i = 0; i < this.imgData.length; i++) {\n            if (!this.imgData[i].isFind) {\n                findData = this.imgData[i];\n                break;\n            }\n        }\n\n        if (!findData) {\n            return\n        }\n        if (gameData.userData.tishiNum <= 0) {\n            cc.log(\"看广告\")\n\n            gameData.showVideo(()=>{\n                this.showTiShi(findData);\n            });\n\n            return;\n        }\n        gameData.userData.tishiNum = gameData.userData.tishiNum - 1;\n        gameData.storageData();\n        this.changeQiPaoNum();\n        this.showTiShi(findData);\n    }\n\n    showTiShi(findData: beautyData) {\n\n        if (findData) {\n            this.isTiShi = true;\n            for (let i = 0; i < 2; i++) {\n                let tishi = cc.instantiate(this.gameTishiPrefab);\n                this.imgSignBox.getChildByName(\"tishiBox\").addChild(tishi);\n\n                let x = findData.centerPos.x * this.originalScale;\n                let y = 0\n                if (i == 0) {\n                    y = findData.centerPos.y * this.originalScale + this.setImgY;\n                } else {\n                    y = findData.centerPos.y * this.originalScale - this.setImgY;\n                }\n                tishi.setPosition(x, y);\n                cc.Tween.stopAllByTarget(tishi);\n                cc.tween(tishi).to(0.5, { scale: 0.7 }).to(0.5, { scale: 1 }).union().repeatForever().start();\n            }\n\n        }\n    }\n\n\n    //播放音效\n    playCommonSound(audioName: string, loop: boolean = false): number {\n        for (let i = 0; i < this.audioClips.length; i++) {\n            if (this.audioClips[i].name == audioName) {\n                let audioID = Global.audioUtils.playEffect(this.audioClips[i], loop);\n                return audioID;\n            }\n        }\n        return null;\n    }\n}\n"]}
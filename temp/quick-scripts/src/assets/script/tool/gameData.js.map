{"version":3,"sources":["assets/script/tool/gameData.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Global } from \"./global\";\nimport { StorageUtils } from \"./StorageUtils\";\n\nlet onCloseFinishCb: () => void = null;\nlet onClosefailCb: () => void = null;\nclass GameDataClass {\n\n    private static _instance: GameDataClass = null;\n\n    public static getInstance(): GameDataClass {\n        if (this._instance == null) {\n            this._instance = new GameDataClass();\n        }\n        return this._instance;\n    }\n\n\n    constructor() {\n        cc.game.on(cc.game.EVENT_HIDE, function () {\n            this.storageData();\n        }, this);\n    }\n\n    levelAll: number = 30;\n    userData: any = {\n        isClause: false,    //是否打开过隐私协议    \n        tishiNum: 1,        //提示次数\n        level: 1,           //当前关卡\n        isHall: false,      //是否返回过大厅\n        isGudie: false,      //是否打开过新手引导\n        finishLevel5: false,  //是否完成过第5关\n    };\n\n    storageData() {\n        StorageUtils.setStorageJSON(storage.gamedata, this.userData);\n    }\n\n\n    setVideoFailCb(cb: () => void) {\n        window['onClosefailCb'] = null;\n        window['onClosefailCb'] = cb;\n    }\n\n \n    //看广告\n    showVideo(finishCb: () => void) {\n        console.log(\"android------------看广告\")\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showShiPing\", \"()V\");\n            onCloseFinishCb = null;\n            onCloseFinishCb = finishCb;\n        } else if (cc.sys.isNative && cc.sys.OS_IOS == cc.sys.os) {\n\n            jsb.reflection.callStaticMethod(\"UnityMgr\", \"loadReward\");//全屏视频;\n            window['onCloseFinishCb'] = null;\n            window['onCloseFinishCb']= finishCb;\n\n        } else {\n            finishCb();\n        }\n\n    }\n\n    //打开banner\n    showBanner() {\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showbanner\", \"()V\");\n        }else if (cc.sys.isNative && cc.sys.OS_IOS == cc.sys.os) {\n\n        } \n    }\n\n    //关闭banner\n    closeBanner() {\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"hidebanner\", \"()V\");\n        }else if (cc.sys.isNative && cc.sys.OS_IOS == cc.sys.os) {\n\n        } \n    }\n\n    //打开插屏\n    showInterst() {\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showChaping\", \"()V\");\n        }else if (cc.sys.isNative && cc.sys.OS_IOS == cc.sys.os) {\n\n        } \n    }\n\n    //打开评分\n    showPingFen() {\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"openPingFen\", \"()V\");\n        }else if (cc.sys.isNative && cc.sys.OS_IOS == cc.sys.os) {\n\n        } \n    }\n\n  \n}\n\nexport let gameData = GameDataClass.getInstance();\n\nexport enum storage {\n    gamedata = \"gamedata\",\n}\n\nexport enum sound {\n    bgm = \"bgm\",\n    click = \"click\",\n    correct = \"correct\",\n    err = \"err\",\n    fail = \"fail\",\n    win = \"win\",\n}\nwindow['onCloseFinishCb'] = () => {\n   \n}\n\n/**sdk调用js里面window公众的函数 */\nwindow['onCloseVdieoFinishCb'] = () => {\n    // if (isPlayMusic) {\n    //     AudioCtr.bg();\n    // }\n    console.log(\"onCloseVdieo----------------------------\")\n    window['onCloseFinishCb']()\n}\n\n\n/**sdk调用js里面window公众的函数 */\nwindow['onCloseVdieofailCb'] = () => {\n    // if (isPlayMusic) {\n    //     AudioCtr.bg();\n    // }\n    console.log(\"onCloseVdieofailCbonCloseVdieofailCbonCloseVdieofailCb\")\n    window['onClosefailCb']()\n}\n\n\nwindow['onClosefailCb'] = () => {\n   \n}\n"]}